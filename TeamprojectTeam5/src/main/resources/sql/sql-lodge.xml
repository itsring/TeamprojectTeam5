<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.bitc.team5.mapper.LodgeMapper">	
	<!-- 숙소 예약 내용 저장 -->	

	<insert id="insertLodge" parameterType="com.bitc.team5.dto.LodgeDto">
		<![CDATA[ 
			INSERT INTO lodge
				(lodge_name, lodge_address_name, lodge_phone, lodge_id, chk_in_date, chk_out_date, book_date, user_email)
			VALUES
				(#{lodgeName}, #{lodgeAddressName}, #{lodgePhone}, #{lodgeId}, #{chkInDate}, #{chkOutDate}, now(), #{userEmail})
		]]>
	</insert>
	
	<!--/* 숙소 확인 페이지3 + 객실 조회*/-->
	<select id="selectRoomList" resultType="com.bitc.team5.dto.LodgeRoomDto">
		<![CDATA[ 
			SELECT
				seq, lodge_name, lodge_img, lodge_score, room_img, room_name, room_type, room_price, room_count, chk_in_date, chk_out_date, sold_out		
			FROM
				lodge_room
			WHERE
				sold_out = 'Y'
		]]>
	</select >

		
</mapper>