<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<!-- <meta name="viewport" content="width=device-width, initial-scale=1.0"> -->
<title>숙소 확인</title>
<link
	href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css"
	rel="stylesheet"
	integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3"
	crossorigin="anonymous">

<script
	src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>

<script
	src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"
	integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p"
	crossorigin="anonymous"></script>

<!--  날짜 선택하지 않았을 떄 확인 촉구 메시지 -->
<script>
function validateForm() {
  var chkIn = document.forms["frm"]["chkInDate"].value;
  var chkOut = document.forms["frm"]["chkOutDate"].value;
  if (chkIn == "" || chkIn == null || chkOut == "" || chkOut == null) {
    alert("날짜를 선택해주세요");
    return false;
  }
}
</script>

<style>
#book {
	border: 2px solid skyblue;
	border-radius: 30px;
	vertical-align: middle;
	text-align: center;
}
</style>

</head>
<body>
	<header>
		<div id="header" th:include="layout/header :: header"></div>

		<div class="container mt-4">
			<h3
				class="p-1 text-center border bg-primary bg-opacity-25 text-white">숙소
				예약 화면</h3>
		</div>
	</header>
<main>
	<div class="container" id="book">
		<form id="frm" action="/lodge/lodgeBook" method="POST" onsubmit="return validateForm()">
<!-- 			<input type="text" id="input1" name="input1" />
			<script>
				const urlParams = new URL(location.href).searchParams;
				//	let inputVal = document.write(urlParams.get('pName')).textContent;
				//	const input1 = document.querySelector("#input1");
				//	const input1 = document.write(urlParams.get('pName'));
				//	document.querySelector('input[name="input1"]').innerHTML=inputVal;
				TextInput();
				/* $(document).ready(function(){
					/* document.write(urlParams.get('pName') + '<br>');
					document.write(urlParams.get('aName') + '<br>');
					document.write(urlParams.get('phone') + '<br>'); */

				//	}); 
				function TextInput() {
					//let inputVal = () => { document.write(urlParams.get('pName'))};
					let inputVal = urlParams.get('pName');
					document.querySelector('input[name="input1"]').value = inputVal;
					console.log(inputVal);
				}
			</script> -->
			<label for="" class="col-form-label">숙소 이름 : </label> 
			<input type="text" class="form-control" id="input1" name="lodgeName" /><br>
			<label for="" class="col-form-label">주소 : </label> 
			<input type="text" class="form-control" id="input2" name="lodgeAddressName" /><br>
			<label for="" class="col-form-label">전화 번호 : </label> 
			<input type="text" class="form-control" id="input3" name="lodgePhone" />
			<div style="display:none">
				<br>
				<label for="" class="col-form-label">길찾기 : </label> 
				<input type="text" class="form-control" id="input4" name="lodgeId" />
			</div>
			
			
			<script>
				const urlParams = new URL(location.href).searchParams;

				TextInput();

				function TextInput() {
					
					let inputVal1 = urlParams.get('pName');
					document.querySelector('input[name="lodgeName"]').value = inputVal1;
					
					let inputVal2 = urlParams.get('aName');
					document.querySelector('input[name="lodgeAddressName"]').value = inputVal2;
					
					let inputVal3 = urlParams.get('phone');
					document.querySelector('input[name="lodgePhone"]').value = inputVal3;
					
					let inputVal4 = urlParams.get('id');
					document.querySelector('input[name="lodgeId"]').value = inputVal4;
					
					
					console.log(inputVal);
				}
			</script>

			<div class="row m-3">
				<div class="col" >
					<span for="" class="col-form-label">입실 : </span> 
					<input type="date" class="form-control" id="chkInDate" name="chkInDate"/> 
					<span> ~ </span> 
					<span for="" class="col-form-label">퇴실 : </span>
					<input type="date" class="form-control" id="chkOutDate" name="chkOutDate"/>
				</div>
				<div style="display:none">
					<input th:value="${session.email}" type="text" class="form-control" id="userEmail" name="userEmail">
				</div>
			</div>	

			<div class="m-3">
				<button type="submit" id="btn-books" class="btn btn-primary">예약 확인</button>
			</div>
		</form>
	</div>

</main>

</body>
</html>



















