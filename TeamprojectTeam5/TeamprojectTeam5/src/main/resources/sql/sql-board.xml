<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.bitc.team5.mapper.BoardMapper">
	
	<select id="noticeBoardList" resultType="com.bitc.team5.dto.BoardDto">
		<![CDATA[ 
			select 
				board_seq, board_title, board_content, user_name
			from 
				board
			where 
				deleted_yn ='N'
			and 
				category ="공지"
			order by 
				board_seq DESC
		]]>
	</select>
	
	<insert id="noticeInsert" parameterType="com.bitc.team5.dto.BoardDto">
		<![CDATA[ 
			insert into board
				(board_title, board_content, user_name,category)
			VALUES
				(#{boardTitle},#{boardContent},#{userName},'공지' )
		]]>
	</insert>
	
	<select id="noticeBoardDetail" parameterType="int" resultType="com.bitc.team5.dto.BoardDto">
		<![CDATA[
			SELECT
				board_seq, board_title, board_content
			FROM
				board
			WHERE
				board_seq = #{boardSeq}
		]]>
	</select>
	
	<update id="noticeDelete" parameterType="int">
		<![CDATA[ 
			update
				board
			set
				deleted_yn = 'Y'
			where
				board_seq = #{boardSeq}
		]]>
	</update>
	<update id="noticeUpdate" parameterType="com.bitc.team5.dto.BoardDto">
		<![CDATA[ 
			update
				board
			set
				board_title = #{boardTitle}, board_content = #{boardContent}
			where 
				board_seq = #{boardSeq}
			AND
				deleted_yn = 'N'
		]]>
	</update>
</mapper>
